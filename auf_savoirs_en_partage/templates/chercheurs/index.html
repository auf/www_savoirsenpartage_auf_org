{% extends "container_base.html" %}
{% load pagination_tags %}
{% load form_tags %}
{% load sep %}

{% block contenu %}
{% autopaginate chercheurs 20 %}

<ul class="actions">
    {% include "chercheurs/actions.html" %}
</ul>

<h4>Répertoire des chercheurs</h4>

<div class="texte">
    <p>
    Bienvenue sur le répertoire des chercheurs francophones de l'Agence
    universitaire de la Francophonie (AUF).
    </p>
    <p>
    Cet outil recense les universitaires (enseignants, chercheurs, doctorants)
    impliqués, ou souhaitant s'impliquer, dans les projets scientifiques appuyés
    par l'AUF. Il permet à la communauté scientifique de se mobiliser sur des
    projets en fonction de repères thématiques et/ou régionaux. 
    </p>
    <p>
    Dans le cadre de la programmation quadriennale, la politique scientifique de
    l'AUF s'appuie sur la mise en œuvre de projets inter-universitaires
    régionaux ou internationaux. Les <i>réseaux de chercheurs</i> ne sont plus
    le critère d'organisation du répertoire (consulter la 
    <a href="{% url chercheurs.views.conversion %}">table de passage</a>). Les
    chercheurs précisent leur <a href="{% url chercheurs.views.conversion %}">domaine de recherche</a>,
    discipline, thème(s) et groupe(s) de recherche, et ajoutent des mots-clés
    pour affiner leur profil scientifique.
    </p>
</div>

<h5>Recherche</h5>

<form method="get" action="">
    <table id="repertoire_recherche">
        {% form_field search_form.q %}
        {% form_field search_form.nom %}
        {% form_field search_form.domaine %}
        {% form_field search_form.groupe_recherche %}
        {% form_field search_form.statut %}
        {% form_field search_form.discipline %}
        {% form_field search_form.pays %}
        {% form_field search_form.region %}
        {% form_field search_form.nord_sud %}
        <tr><th></th><td><input type="submit" class="bouton" value="Rechercher" /></td></tr>
    </table>
</form>

<h5>Résultats : {{nb_chercheurs}} chercheurs correspondant à votre recherche</h5>

<div class="centre">{% paginate %}</div>
<table id="repertoire">
    <tr>
        <th>{% sort_link "nom" "Nom" %}</th>
        <th>{% sort_link "etablissement" "Établissement" %}</th>
        <th>{% sort_link "pays" "Pays" %}</th>
    </tr>
    {% for chercheur in chercheurs %}
    <tr class="{% cycle 'odd' 'notodd' %}">
        <td><a href="{% url chercheurs.views.retrieve id=chercheur.id %}">{{ chercheur }}</a></td>
        <td>{% firstof chercheur.etablissement.nom chercheur.etablissement_autre_nom %}</td>
        <td>{% firstof chercheur.etablissement.pays.nom chercheur.etablissement_autre_pays.nom %}</td>
    </tr>
    {% endfor %}
</table>
<div class="centre">{% paginate %}</div>

{% endblock %}
